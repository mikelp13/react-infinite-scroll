(this.webpackJsonppractice=this.webpackJsonppractice||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n(17),o=n.n(a),s=n(3),u=function(e){var t=e.books,n=e.lastBookElementRef;return Object(c.jsx)("ul",{className:"list-group list-group-flush ",children:t.map((function(e,r){return t.length===r+1?Object(c.jsx)("li",{ref:n,className:"list-group-item",children:e},e):Object(c.jsx)("li",{className:"list-group-item ",children:e},e)}))})},i=function(e){var t=e.inputValue,n=e.onChange;return Object(c.jsxs)("div",{className:"form-group has-search",children:[Object(c.jsx)("h1",{className:"text-center text-primary mb-4",children:"Find books in our library"}),Object(c.jsx)("span",{className:"fa fa-search form-control-feedback"}),Object(c.jsx)("input",{type:"text",value:t,onChange:n,className:"form-control border-end-0 border rounded-pill",placeholder:"Enter your book title"})]})},b=function(e,t){var n=Object(r.useState)(e),c=Object(s.a)(n,2),a=c[0],o=c[1];return Object(r.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),a},l=n(6),j=n(18),f=n.n(j),O=function(e,t){var n=Object(r.useState)(!1),c=Object(s.a)(n,2),a=c[0],o=c[1],u=Object(r.useState)(""),i=Object(s.a)(u,2),b=i[0],j=i[1],O=Object(r.useState)([]),d=Object(s.a)(O,2),p=d[0],h=d[1],m=Object(r.useState)(!1),g=Object(s.a)(m,2),x=g[0],v=g[1];return Object(r.useEffect)((function(){h([])}),[e]),Object(r.useEffect)((function(){o(!0),j(""),f()({method:"GET",url:"http://openlibrary.org/search.json",params:{q:e,page:t}}).then((function(e){h((function(t){return Object(l.a)(new Set([].concat(Object(l.a)(t),Object(l.a)(e.data.docs.map((function(e){return e.title}))))))})),v(e.data.docs.length>0)})).catch((function(e){return j(b.message)})).finally((function(){return o(!1)}))}),[e,t]),{loading:a,error:b,books:p,hasMore:x}},d=n(19),p=n(8),h=n(20),m=n.n(h);function g(){var e=Object(d.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 30px;\n"]);return g=function(){return e},e}var x=Object(p.css)(g()),v=function(){return Object(c.jsx)(m.a,{color:"#0C8671",loading:"true",css:x,size:30})},k=(n(49),function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(1),l=Object(s.a)(o,2),j=l[0],f=l[1],d=b(n,1e3),p=O(d,j),h=p.books,m=p.hasMore,g=p.loading,x=p.error,k=Object(r.useRef)(),y=Object(r.useCallback)((function(e){g||(k.current&&k.current.disconnect(),k.current=new IntersectionObserver((function(e){e[0].isIntersecting&&m&&f((function(e){return e+1}))})),e&&k.current.observe(e))}),[g,m]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(i,{onChange:function(e){a(e.target.value)},inputValue:n}),Object(c.jsx)(u,{lastBookElementRef:y,books:h}),g&&Object(c.jsx)(v,{}),x&&Object(c.jsx)("div",{children:x})]})});n(50);o.a.render(Object(c.jsx)(k,{}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.31038676.chunk.js.map